---
title: LeetCode题解-数组
description: 合并两个有序数组、颜色分类、部分排序
tags:
  - TypeScript
  - 算法
image: ""
slug: "/ts-algo-array"
noComments: true
---

## 合并两个有序数组

### 题目描述

给你两个有序整数数组 nums1 和 nums2，请你将 nums2 合并到 nums1 中，使 nums1 成为一个有序数组。

初始化 nums1 和 nums2 的元素数量分别为 m 和 n 。

你可以假设 nums1 的空间大小等于 m + n，这样它就有足够的空间保存来自 nums2 的元素。

示例1:

> 输入：nums1 = [1,2,3,0,0,0], m = 3, nums2 = [2,5,6], n = 3
>
> 输出：[1,2,2,3,5,6]
>

### 题解思路

设indexM = m - 1, indexN = n- 1, cur = m + n -1, 分别表示nums1索引最大值, nums2索引最大值, 当前应该替换的数组索引

nums1数组在indexM之后会用0填充num2数组长度n个0就像示例中那样:

nums1:  1 2 3 0 0 0

nums2:  2 5 6

由于nums1和nums2都是有序数组,我们倒序从最大值开始遍历两个数组,每次对比当前遍历的值,nums1数组的最大值对比nums2数组的最大值,谁更大谁排在数组的最后面

第一次: 3 < 6, 将6替换数组索引cur得到: 1 2 3 0 0 6,此时nums2向前遍历一位,indexN-- && cur--

第二次: 3 < 5, 将5替换数组索引cur得到: 1 2 3 0 5 6,此时nums2再次向前遍历一位,indexN-- && cur--

第三次: 3 > 2, 将3替换数组索引cur得到: 1 2 3 3 5 6,此时nums1向前遍历一位,indexM-- && cur--

第四次: 2 = 2, 将2替换数组索引cur得到: 1 2 2 3 5 6,此时nums1向前遍历一位,indexN-- && cur--,此时indexN已经为0了,nums2数组已经全部进入nums1了,此时已经完成排序了,跳出循环

### 参考代码

```typescript
function merge(nums1: number[], m: number, nums2: number[], n: number): void {
    let cur: number = m + n - 1;
    let indexM: number = m - 1;
    let indexN: number = n - 1;

    while (indexN > -1) {
        nums1[cur--] = indexM > -1 && nums1[indexM] > nums2[indexN] ? nums1[indexM--] : nums2[indexN--];
    }
};
```

## 颜色分类

### 题目描述

给定一个包含红色、白色和蓝色，一共 n 个元素的数组，原地对它们进行排序，使得相同颜色的元素相邻，并按照红色、白色、蓝色顺序排列。

此题中，我们使用整数 0、 1 和 2 分别表示红色、白色和蓝色。

示例1:

> 输入：nums = [2,0,2,1,1,0]
>
> 输出：[0,0,1,1,2,2]
>

### 题解思路

通过题目描述可以得知排序结果一定是0在1的左边,2在1的右边,我们可以把值为1的元素作为锚点

设置3个索引, index表示当前遍历的值, left表示数组左边已完成排序的索引, right表示数组右边已完成排序的索引

遍历数组取出当前index索引值:

- 如果为0与当前的left索引值交换位置,0应该在左边,left+1,index继续向后遍历

- 如果为1跳过,因为不需要主动改变1的位置,等到0和2位置与left/right交换好自然就在中间了,index++

- 如果为2与当前的right索引值交换位置,2应该在右边,right-1,index不需要继续向后,因为换过来的有不知道是1还是0,需要继续再循环判断一次

初始化: [2,0,2,1,1,0]

1: [0,0,2,1,1,2] (2 <-> 0) index = 0 right = 5

2: [0,0,2,1,1,2] (0 <-> 0) index = 1 left = 1

3: [0,0,2,1,1,2] (0 <-> 0) index = 2 left = 2

3: [0,0,1,1,2,2] (2 <-> 1) index = 2 right = 4

4: [0,0,1,1,2,2] (1 不交换) index = 3

5: [0,0,1,1,2,2] (1 不交换) index = 4

6: [0,0,1,1,2,2] index = 5 > right = 4 跳出循环

### 参考代码

```typescript
function sortColors(nums: number[]): void {
    let index: number = 0;
    let left: number = 0;
    let right: number = nums.length - 1;

    while (index <= right) {
        const cur: number = nums[index];
        if (cur === 0) {
            swap(nums, left, index);
            index++;
            left++;
        } else if (cur === 1) {
            index++;
        } else if (cur === 2) {
            swap(nums, index, right);
            right--;
        }
    }
};

function swap(nums: number[], index1: number, index2: number): void {
    const tmp: number = nums[index1];
    nums[index1] = nums[index2];
    nums[index2] = tmp;
}
```
